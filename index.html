<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luke Casino</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .game-window {
            background: #1a472a;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0,255,0,0.2);
        }

        .chip {
            transition: transform 0.2s;
            cursor: pointer;
        }

        .chip:hover {
            transform: scale(1.1);
        }

        .slot-machine {
            background: #2c3e50;
            padding: 20px;
            border-radius: 10px;
        }

        .reel {
            background: #fff;
            border: 2px solid #000;
            height: 100px;
            width: 100px;
            margin: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            overflow: hidden;
            position: relative;
        }

        .reel-content {
            position: absolute;
            transition: top 0.5s;
        }

        @keyframes win-flash {
            0% { background-color: #1a472a; }
            50% { background-color: #2ecc71; }
            100% { background-color: #1a472a; }
        }

        .win-animation {
            animation: win-flash 1s 3;
        }

        .card-slot {
            height: 120px;
            width: 80px;
            border: 2px solid white;
            border-radius: 10px;
            margin: 5px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: white;
            font-size: 1.5em;
        }
    </style>
</head>
<body class="bg-dark text-white">
    <!-- Navigation -->
    <nav class="navbar navbar-dark bg-black">
        <div class="container">
            <span class="navbar-brand">üé∞ Luke Casino</span>
            <div>
                <span id="chipCount" class="h4 me-3">üíé 1000</span>
                <button class="btn btn-outline-warning btn-sm" onclick="resetChips()">Reset Chips</button>
            </div>
        </div>
    </nav>

    <!-- Homepage -->
    <main id="home" class="container mt-5">
        <div class="game-window text-center">
            <h2 class="mb-4">Choose Your Game</h2>
            <div class="row g-4">
                <div class="col-md-3">
                    <div class="card bg-secondary h-100" onclick="showGame('slots')">
                        <div class="card-body">
                            <h3>üé∞ Slots</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card bg-secondary h-100" onclick="showGame('blackjack')">
                        <div class="card-body">
                            <h3>üÉè Blackjack</h3>
                        </div>
                    </div>
                </div>
                <!-- Add more games here -->
            </div>
        </div>
    </main>

    <!-- Slots Game -->
    <section id="slots" class="container mt-5 d-none">
        <div class="game-window text-center">
            <button class="btn btn-secondary mb-3" onclick="showHome()">‚Üê Back</button>
            <h2>Slot Machine</h2>
            <div class="slot-machine my-4">
                <div class="d-flex justify-content-center">
                    <div class="reel">
                        <div class="reel-content" id="reel1">üçí</div>
                    </div>
                    <div class="reel">
                        <div class="reel-content" id="reel2">üçí</div>
                    </div>
                    <div class="reel">
                        <div class="reel-content" id="reel3">üçí</div>
                    </div>
                </div>
            </div>
            <div class="my-4">
                <input type="number" id="betAmount" class="form-control mb-2" value="10" min="10" max="100">
                <button class="btn btn-success btn-lg" onclick="spin()">SPIN (10-100)</button>
            </div>
        </div>
    </section>

    <!-- Blackjack Game -->
    <section id="blackjack" class="container mt-5 d-none">
        <div class="game-window text-center">
            <button class="btn btn-secondary mb-3" onclick="showHome()">‚Üê Back</button>
            <h2>Blackjack</h2>
            <div class="my-4">
                <div id="dealer-cards" class="mb-4"></div>
                <div id="player-cards" class="mb-4"></div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="hit()">Hit</button>
                    <button class="btn btn-warning" onclick="stand()">Stand</button>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Game State
        let chips = localStorage.getItem('chips') || 1000;
        let currentGame = null;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateChipDisplay();
        });

        // Navigation
        function showGame(gameId) {
            document.getElementById('home').classList.add('d-none');
            document.getElementById(gameId).classList.remove('d-none');
            currentGame = gameId;
        }

        function showHome() {
            document.getElementById('home').classList.remove('d-none');
            document.getElementById(currentGame).classList.add('d-none');
            currentGame = null;
        }

        // Chip Management
        function updateChipDisplay() {
            document.getElementById('chipCount').textContent = `üíé ${chips}`;
            localStorage.setItem('chips', chips);
        }

        function resetChips() {
            chips = 1000;
            updateChipDisplay();
        }

        // Slots Game Logic
        const symbols = ['üçí', 'üçä', 'üçã', 'üíé', '7Ô∏è‚É£'];
        function spin() {
            const bet = Math.min(Math.max(parseInt(document.getElementById('betAmount').value), 10), 100);
            if (chips < bet) return alert('Not enough chips!');
            
            chips -= bet;
            updateChipDisplay();

            // Spin animation
            const reels = [reel1, reel2, reel3];
            const results = [];
            reels.forEach((reel, index) => {
                const spins = 10 + Math.floor(Math.random() * 10);
                let position = -spins * 100;
                reel.style.top = `${position}px`;
                
                setTimeout(() => {
                    const result = symbols[Math.floor(Math.random() * symbols.length)];
                    results[index] = result;
                    reel.textContent = result;
                    reel.style.top = '0';
                }, 500 + index * 100);
            });

            // Check results
            setTimeout(() => {
                if (results[0] === results[1] && results[1] === results[2]) {
                    const win = bet * 10;
                    chips += win;
                    alert(`JACKPOT! Won ${win} chips!`);
                    updateChipDisplay();
                    document.getElementById('slots').classList.add('win-animation');
                    setTimeout(() => document.getElementById('slots').classList.remove('win-animation'), 3000);
                } else if (results[0] === results[1] || results[1] === results[2]) {
                    chips += bet * 2;
                    alert(`Win ${bet * 2} chips!`);
                    updateChipDisplay();
                }
            }, 1000);
        }

        // Blackjack Game Logic
        let deck = [];
        let playerHand = [];
        let dealerHand = [];

        function createDeck() {
            deck = [];
            const suits = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
            const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
            suits.forEach(suit => {
                values.forEach(value => {
                    deck.push({ suit, value });
                });
            });
            deck = deck.sort(() => Math.random() - 0.5);
        }

        function calculateHand(hand) {
            let total = 0;
            let aces = 0;
            
            hand.forEach(card => {
                if (card.value === 'A') {
                    aces += 1;
                    total += 11;
                } else if (['J', 'Q', 'K'].includes(card.value)) {
                    total += 10;
                } else {
                    total += parseInt(card.value);
                }
            });

            while (total > 21 && aces > 0) {
                total -= 10;
                aces -= 1;
            }
            return total;
        }

        function renderHand(hand, elementId) {
            const container = document.getElementById(elementId);
            container.innerHTML = hand.map(card => 
                `<div class="card-slot">${card.suit}${card.value}</div>`
            ).join('');
        }

        function startBlackjack() {
            createDeck();
            playerHand = [deck.pop(), deck.pop()];
            dealerHand = [deck.pop(), deck.pop()];
            renderHand(playerHand, 'player-cards');
            renderHand([dealerHand[0], { suit: '?', value: '?' }], 'dealer-cards');
        }

        function hit() {
            playerHand.push(deck.pop());
            renderHand(playerHand, 'player-cards');
            const total = calculateHand(playerHand);
            if (total > 21) endGame('Bust! You lose!');
        }

        function stand() {
            while (calculateHand(dealerHand) < 17) {
                dealerHand.push(deck.pop());
            }
            renderHand(dealerHand, 'dealer-cards');
            const playerTotal = calculateHand(playerHand);
            const dealerTotal = calculateHand(dealerHand);

            if (dealerTotal > 21 || playerTotal > dealerTotal) {
                endGame('You win!');
            } else {
                endGame('Dealer wins!');
            }
        }

        function endGame(message) {
            alert(message);
            startBlackjack();
        }

        // Initialize blackjack when shown
        document.getElementById('blackjack').addEventListener('show.bs.collapse', startBlackjack);
    </script>
</body>
</html>
